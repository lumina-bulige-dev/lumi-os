(()=>{var e={};e.id=266,e.ids=[266],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>u}),r(1835),r(1506),r(5866);var n=r(3191),l=r(8716),a=r(7922),i=r.n(a),s=r(5231),o={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>s[e]);r.d(t,o);let u=["",{children:["compare",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1835)),"/home/runner/work/lumi-os/lumi-os/luminabulige_app/app/compare/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/home/runner/work/lumi-os/lumi-os/luminabulige_app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/work/lumi-os/lumi-os/luminabulige_app/app/compare/page.tsx"],m="/compare/page",c={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/compare/page",pathname:"/compare",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},2093:(e,t,r)=>{Promise.resolve().then(r.bind(r,6312))},1327:()=>{},7888:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},6312:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(326),l=r(7577),a=r(5047),i=r(434),s=r(6207),o=r(1971);function u(){let e=(0,a.useRouter)(),[t,r]=(0,l.useState)(0),[u,d]=(0,l.useState)(0),[m,c]=(0,l.useState)(""),[p,g]=(0,l.useState)(!1),h=(0,l.useRef)(null),b=(0,l.useMemo)(()=>(0,s.N)(t,u),[t,u]),f=(0,l.useMemo)(()=>t-u,[t,u]),x=(0,l.useMemo)(()=>t>0&&u>0,[t,u]),y=(0,l.useMemo)(()=>{let e="btn-base";if(!x)return{label:"数字を入れてください",className:e};switch(b){case"SAFE":return{label:p?"保存中…":"今日のログとして保存（SAFE）",className:`${e} btn-safe`};case"WARNING":return{label:p?"保存中…":"少し注意しながら保存（WARNING）",className:`${e} btn-warning`};case"DANGER":return{label:p?"保存中…":"要注意ログとして保存（DANGER）",className:`${e} btn-danger`};default:return{label:p?"保存中…":"今日のログとして保存",className:e}}},[b,p,x]);return(0,n.jsxs)("main",{style:{padding:24,maxWidth:720,margin:"0 auto"},children:[n.jsx("h1",{style:{fontSize:40,marginBottom:8},children:"Compare"}),(0,n.jsxs)("section",{style:{display:"grid",gap:12,marginBottom:20},children:[(0,n.jsxs)("label",{children:["残高（円）",n.jsx("input",{type:"number",value:t,onChange:e=>r(Number(e.target.value)),style:{width:"100%",padding:12,fontSize:16,marginTop:6}})]}),(0,n.jsxs)("label",{children:["Floor（絶対割れない下限・円）",n.jsx("input",{type:"number",value:u,onChange:e=>d(Number(e.target.value)),style:{width:"100%",padding:12,fontSize:16,marginTop:6}})]}),n.jsx("button",{onClick:function(){if(x&&!p){g(!0);try{let r=(0,o.AH)(t,u);c(`今日のログ保存OK：${r.date} / ${r.level}`),h.current=window.setTimeout(()=>{e.push("/beta")},555)}finally{window.setTimeout(()=>g(!1),700)}}},className:y.className,disabled:!x||p,children:y.label}),m?n.jsx("div",{style:{opacity:.8},children:m}):null,(0,n.jsxs)("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[n.jsx(i.default,{href:"/beta",className:"link",children:"30日ログを見る"}),n.jsx("a",{href:"https://luminabulige.com/",className:"link",children:"LPへ戻る"})]})]}),(0,n.jsxs)("section",{style:{padding:16,border:"1px solid #ddd",borderRadius:12},children:[n.jsx("h2",{style:{marginTop:0},children:"判定"}),(0,n.jsxs)("p",{style:{fontSize:22,margin:"8px 0"},children:["今日の安全度：",n.jsx("b",{children:b})]}),(0,n.jsxs)("p",{style:{margin:0,opacity:.9},children:["Floorとの差分：",(0,n.jsxs)("b",{children:[f.toLocaleString(),"円"]})]})]})]})}},6207:(e,t,r)=>{"use strict";function n(e,t){return e>=1.2*t?"SAFE":e>=t?"WARNING":"DANGER"}r.d(t,{N:()=>n})},1971:(e,t,r)=>{"use strict";r.d(t,{AH:()=>a,Iz:()=>i});var n=r(6207);let l={dailyLogs:"lumi:dailyLogs:v1"};function a(e,t){let r=Number(e),a=Number(t);if(!Number.isFinite(r)||!Number.isFinite(a))throw Error("Invalid balance/floor");let i=function(){let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}(),o=(0,n.N)(r,a),u=r-a,d=function(){var e;let t=(l.dailyLogs,null);return t&&Array.isArray(t)?t.filter(s):[]}(),m={date:i,balanceYen:r,floorYen:a,level:o,diffYen:u},c=[m,...d.filter(e=>e.date!==i)].sort((e,t)=>e.date<t.date?1:-1).slice(0,30);return localStorage.setItem(l.dailyLogs,JSON.stringify(c)),m}function i(e){return{safe:e.filter(e=>"SAFE"===e.level).length,warning:e.filter(e=>"WARNING"===e.level).length,danger:e.filter(e=>"DANGER"===e.level).length,total:e.length}}function s(e){return e&&"string"==typeof e.date&&"number"==typeof e.balanceYen&&"number"==typeof e.floorYen&&("SAFE"===e.level||"WARNING"===e.level||"DANGER"===e.level)&&"number"==typeof e.diffYen}},1835:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(8570).createProxy)(String.raw`/home/runner/work/lumi-os/lumi-os/luminabulige_app/app/compare/page.tsx#default`)},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>l});var n=r(9510);r(7272);let l={title:"LUMINA BULIGE",description:"Money Flow Stabilizer OS"};function a({children:e}){return n.jsx("html",{lang:"ja",children:n.jsx("body",{children:e})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[819,496],()=>r(3055));module.exports=n})();