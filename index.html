<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>LUMINA | Explainable Spending 3D</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body style="margin:0;background:#0b0f14;color:#eaeaea;font-family:system-ui;">
  <h2 style="text-align:center;margin:16px 0;">
    ğŸ“ˆ 12æœˆæ”¯å‡ºæ¨ç§»ï¼ˆExplainable 3Dï¼‰
  </h2>
  <div id="graph" style="width:100%;height:520px;"></div>
  <script>
    // ====== å°†æ¥ã“ã“ã‚’APIå·®ã—æ›¿ãˆ ======
    const data = [
      { day: 1, amount: 5200, category: "å…‰ç†±è²»", verified: true },
      { day: 2, amount: 8800, category: "é£Ÿè²»", verified: true },
      { day: 3, amount: 4300, category: "é€šä¿¡", verified: false },
      { day: 4, amount: 10200, category: "äº¤é€š", verified: true },
      { day: 5, amount: 6100, category: "æ—¥ç”¨å“", verified: true },
      // â€¦ç¶šã‘ã‚‹ã ã‘
    ];
    const x = data.map(d => d.day);
    const y = data.map(d => d.amount);
    const z = data.map(d => d.day * 0.15);
    const hoverText = data.map(d =>
      `æ—¥ä»˜: ${d.day}æ—¥<br>` +
      `é‡‘é¡: Â¥${d.amount.toLocaleString()}<br>` +
      `ã‚«ãƒ†ã‚´ãƒª: ${d.category}<br>` +
      `æ¤œè¨¼çŠ¶æ…‹: ${d.verified ? "âœ“ æ¤œè¨¼æ¸ˆã¿" : "æœªæ¤œè¨¼"}`
    );
    const trace = {
      x, y, z,
      type: "scatter3d",
      mode: "lines+markers",
      line: { width: 5, color: "#46b6ff" },
      marker: {
        size: 5,
        color: data.map(d => d.verified ? "#46b6ff" : "#ffb020")
      },
      hovertext: hoverText,
      hoverinfo: "text"
    };
    const layout = {
      paper_bgcolor: "#0b0f14",
      plot_bgcolor: "#0b0f14",
      scene: {
        xaxis: { title: "æ—¥ä»˜", color: "#aaa" },
        yaxis: { title: "æ”¯å‡ºï¼ˆJPYï¼‰", color: "#aaa" },
        zaxis: { title: "æ™‚é–“ãƒ¬ã‚¤ãƒ¤ãƒ¼", color: "#aaa" }
      },
      margin: { l: 0, r: 0, b: 0, t: 40 }
    };
    Plotly.newPlot("graph", [trace], layout, { responsive: true });
  </script>
</body>
</html>
